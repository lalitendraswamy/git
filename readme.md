# Core Concepts

## Repository

A Repository can be considered as a remote storage for your codes and files. What makes a repository different (and superior) to oridinary cloud space is 

1. A Repository is specially desiged with development in mind. 
2. Multiple users can have access to add/remove content. 
3. Supports Multiple branches that can help concurrent development. 
4. Can track changes and conflicts
5. Version Management of the code
6. Branching and Tagging

## Branches

A Repository can have multiple Branches. Each branch can be considered as a separate copy of the code with following benefits 

* You fork your repository conent to a different branch
* Different branches may aim at adding different features to the code
* Different branches can be maintained by different developer and team.
* Different branches may represent parellel versions of different
* A branch may archive a particular milestone so that we can revert back there
* We may merge multiple branches if needed.
* **Each repository would have at least one branch**
    * Generally this branch is called **main** branch

## Standard Flow in git

1. Initalize a local repository
    * You may start by **init**ializing an empty repository or
    * You may **clone** an existing repository
1. Select (**checkout**) a branch
1. Add/Edit/Remove files
1. Commit changes to Repository
1. Push the changes to the remote repository (branch)

### Optional Steps
1. **Pull** the changes from remote repository to the local repository
1. **checkout** to different branches
1. **merge** code from different branches

## .gitignore

A special file that contains file names/patterns to indicate what files shall not be added to the repository. We generally exclude temp or auto generated files from adding to the repository. Good examples would be -
* *node_modules** folder which can be auto generated using simple **npm i** commands.
* **.class** files in java project that can be regenerated by compiling file
* **.pyc** file in python project which is auto-generated 
* **.tmp** kind of files
* Any folder you don't want to be part of the repository

### Example of a .gitignore file

```txt
# ignore all files matching this wildcard
*.class
*.pyc
.env
# ignore following folders
node_modules/
private/
```

---------------------------------------------------------------

# Basic Git Commands

Here is a list of basic Git commands we need regularly


## 0. Git configuration

* We can configure git by supplying important keys like *user.name* and *user.email*
* Generally those configuration are global and need to be set only once.

```cmd
$ git config --global user.name "Jhon Doe"
$ git config --global user.email jhon.doe@mail.com
```


## 1. Git Initialization

Git Initialization creates a local repository. It converts your current folder into a git repository. It adds a **.git** folder in your current folder and

```cmd
$ git init
```

* Note 
    * The current repository isn't connected to any remote repostiory. 
    * We need to connect it to some remote repostiory before we can push changes.


## 2. Branch commands

### a. See a list of existing branch

```cmd
$ git branch
```

### b. create a new Branch

```cmd
$ git branch new-branch
```

### c. rename current branches

```cmd
git branch -M new-name-for-branch
```

### d. switch from one branch to another branch

```cmd
git checkout new-branch
```

### e. create a new branch and switch to It
```cmd
git checkout -b alpha1
```

### f. delete a branch
```cmd
git checkout -d alpha1
```

## 3. Adding files to local Repository

We can add a particular file/folder or all files to local repository. Note that a file in the directory is not automatically added to the repository without this command. 


```cmd
$git add single-file.txt
$git add folder
$git add .
```

* Note
    * we can add all files to repository by using dot (.)
    * Any files/folder added in **.gitignore** file would be ignored while using dot(.)

## 4. Removing a file from local repository

There are two ways to achieve this. 

1. Delete the files physically from the folder and on next **add .** the files would be removed from the repository
    * Note this would actually delete the file

1. Remove the file from repository but not physically from the disk

```
git rm a.txt
git rm --force b.txt
```

Note:
* **--force** would remove the file from remote repo on next commit
* We may use recursive (**-r**) to remove a directory and it's content

```cmd
$ git rm -f -r node_modules
```

## 5. Committing the changes

You have to commit the changes before you can send the content to remote repository. Generally changes are committed with a unique id (commented)

```cmd
$ git commit -m "description of the changes"
```

# Connecting Local and Remote Repository

There are two ways to connect local and remote repository

1. **clone** existing remote Repository:  Use this if you have exisitng content in a remote repository and you want to duplicate it in local repository.
1. **connect** current local Repository to a **remote** repository: Use this when you are trying to start a new project with empty or local content that need to pushed to remote repository.




## 1. Cloning an existing Remote Repository

You can also clone a existing remote repository to your local machine.

```cmd
$ git clone https://github.com/johndoe/my-repo
```
* The above command creates a new folder with the the name **my-repo** in your current directory.
* The new folder **my-repo** contains the cloned content from remote repository. It


### You can choose your own local folder name and

```cmd
$ git clone https://github.com/johndoe/my-repo local-folder
```

### or copy it in the current folder

```cmd
$ git clone https://github.com/johndoe/my-repo .
```

* Note: there is a dot '.' at the end of the command line

### Important!

* If you are cloning a third party repository where you don't have update access you should delete the **.git** folder and initialze your own repository


## 2. Connecting local repository to remote Repository
```cmd
$ git remote add origin https://github.com/johndoe/my-repo 
```

    

## Pushing from local to remote repository (branch)

```cmd
$ git push origin branch-name
```

* Note: It would push all the committed content to the remote repository

## Pull from remote to local repository

You can **pull** the latest updates from **remote** server to your local machine

```cmd
$ git pull
```

---------------

# Common Use cases and there commands


## 1. Starting a new Repository

### Step 1. Create a new Repository on the server

* Goto Github.com
* Add new repository in your account
    * assume username is **vivekduttamishra**
    * assume repository is **thelostepic**
* copy your repository url that should be : https://github.com/vivekduttamishra/thelostepic


### Step 2. Run following inital Commands

```cmd
$ git init          
$ git branch -M main
$ git remote add origin  https://github.com/vivekduttamishra/thelostepic
```

Now we are ready to add files to our repository

## 2. Cloning an exising Repository

Assume you are cloning an exsiting repository https://github.com/vivekduttamishra/thelostepic which already contains files 

```cmd
$ git clone https://github.com/vivekduttamishra/thelostepic thefoundepic
```

### 2.1 If the cloned repository is a third party repository and you are using it only as inital code base

You need to push these content to your own repository.

#### Step 1. Remove **.git** folder from the folder
#### Step 2. Connect the folder to your repository using steps described in **1. Starting a new Repository** 


## 3. Pushing changes to remote repository

```cmd
$ git add .
$ git commit -m "new changes on the way"
$ git push origin main
```


## 4. Pulling changes from remote Repository
```cmd
$ git pull
```

* Note: it may fail if you have conflicts between

## 5. fetching changes from Remote Repsoitory

If you have messed up your local repository and wants to get everything from the server then

```cmd
$ git fetch origin

$ git reset --hard origin/master
```

















